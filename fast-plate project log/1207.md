# fast-plate project log

- 주제 : 망고플레이트 서비스 만들어보기 (https://www.mangoplate.com/)
- 조원 : 신창선, 조민지, 안재현
- 개발 일정 : 2018/12/03 ~ 2018/12/21

## 2018 / 12 / 07

### 첫번째 목표 : review 페이지에서 평가 버튼 상태 바꾸기

- 리뷰페이지에서 평가 버튼이 3가지 종류가 있다. (맛있다, 괜찮다, 별로)
- 버튼은 한번에 하나씩만 클릭이 되어진다.
- 일단 기존에 scss에서 url 형태로 가져오던것을 수정했다.
- WritingReviewView 페이지에서 클릭하지 않았을 때와 클릭했을 때의 상태를 보여주는 url을 변수에 객체형태로 담았다.

  ```js
  const imagePath = {
    goodOff:
      "https://mp-seoul-image-production-s3.mangoplate.com/web/resources/restaurant_recommend_face.svg",
    goodOn:
      "https://mp-seoul-image-production-s3.mangoplate.com/web/resources/restaurant_recommend_active_face.svg",
    okOff:
      "https://mp-seoul-image-production-s3.mangoplate.com/web/resources/restaurant_ok_face.svg",
    okOn:
      "https://mp-seoul-image-production-s3.mangoplate.com/web/resources/restaurant_ok_active_face.svg",
    notGoodOff:
      "https://mp-seoul-image-production-s3.mangoplate.com/web/resources/restaurant_not_recommend_face.svg",
    notGoodOn:
      "https://mp-seoul-image-production-s3.mangoplate.com/web/resources/restaurant_not_recommend_active_face.svg"
  };
  ```

- 그런뒤 WritingReviewView 컴포넌트의 상태에 평가버튼 각각의 기본상태를 false로 설정했다.
  ```js
  constructor(props) {
    super(props);
    this.state = {
      goodOpen: false,
      okOpen: false,
      notGoodOpen: false,
    };
  }
  ```
- 이제 구현해야 할 부분은 변수 imagePath에서 상태가 false일때는 Off가 true일때는 On을 가져오도록 해야하며 하나의 상태가 true일때는 나머지 평가버튼의 상태는 false로 만들어 변환해야한다.

```js
this.setState(prevState => ({
  goodOpen: !prevState.goodOpen, // goodOpen의 상태가 false면 true로 true면 false로 변환시켜준다.
  okOpen: false,
  notGoodOpen: false
}));
```

- 다음으로 state가 참인지 거짓인지에 따라 On을 선택할것인지 Off를 선택할것인지를 결정해주는 를 만든뒤, 변수에 넣어준다.
  ```js
  goodImageName = () => (this.state.goodOpen ? "goodOn" : "goodOff");
  const goodImage = this.goodImageName();
  ```
- 대괄호 표기법을 이용해서 변수 imagePath에 goodImage를 넣어줌으로써 true와 false를 이용해서 결과를 가져올수있게된다.
  ```js
  <img
    src={imagePath[goodImage]}
    alt="좋아요 버튼"
    onClick={() => this.toggleGoodOpen()}
  />
  ```
- 참고 : https://stackoverflow.com/questions/51480885/change-image-on-click-react

### 느낀점

- 3명이서 협업을 하는지라 생각보다 기초 레이아웃 작업이 빨리 끝나간다.
- 리액트에서 상태를 전달함으로써 화면에 그려지는 결과를 다르게 하는 작업이 아직도 혼자서 생각하고 구현하기가 조금은 힘든가보다. 지속적인 연습이 필요하다.
- 함수가 정말 많이 지저분하다. 심지어 클릭을 할때 true인 값과 false인 값의 텍스트 스타일 상태를 달라지게 만들어야 하는데 리액트에서 직접 document.querySelector를 이용하지 말고 scss를 이용해서 해보자
- 버튼별로 점수를 다르게 만들어줘야 하는데 구현은 했다. 하지만 한번 클릭을 할 경우 undefined가 나오고 다른 버튼을 클릭했던 경우 전에 클릭했던 버튼의 점수가 뜨는것을 console.log로 확인했으므로 고쳐야한다.
- 코드가 너무 지저분하다. 반복되는 코드들도 너무 많고 냄새가 난다....
- 내일 해야할 일
  - 반복되는 코드 정리하기
  - 이미지 아래에있는 텍스트의 스타일을 scss를 이용해 다르게 구현해보기
  - 버튼이 나오는 로직 수정하기
