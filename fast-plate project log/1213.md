# fast-plate project log

- 주제 : 망고플레이트 서비스 만들어보기 (https://www.mangoplate.com/)
- 조원 : 신창선, 조민지, 안재현
- 개발 일정 : 2018/12/03 ~ 2018/12/21

## 2018 / 12 / 13

### 첫번째 목표 : WritingReview에서 쓴 레스토랑 번호, 쓴 글, 점수 서버에 보내기

- 쓴 글의 내용과 점수를 서버에 보내는 작업을 했다.
- 어제 만든 변수 res에서 post로 보낼 객체안의 값들만 필요한 state 값들로 키와 값을 설정해주면 끝!

```jsㅈ
async postReview() {
  const { goodOpen, okOpen, notGoodOpen, reviewTextBox, rate } = this.state;
  const { reviewId } = this.props;
  if (!goodOpen && !okOpen && !notGoodOpen) {
    alert('평가해 주세요');
  } else {
    const res = await api.post(`/api/posts/list/`, {
      restaurant: reviewId,
      content: reviewTextBox,
      rate,
    });
  }
}
```

- 이제 글을 쓴 뒤에 완료 버튼을 누르면 서버에 정보가 간다. 근데 다시 PostDetail 페이지로 돌아가지 않는다.
- 완료 버튼을 누르면 Redirect를 실행시켜서 PostDetail 페이지로 재설정 해줘야한다.
- 그런데 postReview 메소드와 canCel의 state를 변경시켜주는 handleCancel메소드가 작동을 하지 않는다.
- onClick 이벤트에서 두개를 넣어주면 맨 앞에 있는 이벤트만 실행된다.
- 비동기와 관련있는건가... 이건 내일 물어봐야겠다...

### 두번째 목표 : 서버에서 데이터를 가져와 Modal에 넣어주기

- 서버에서 데이터를 GET으로 가져와 modal안에 필요한 정보들을 넣어주면 된다.
- 처음에 PostDetailPage에서 PostDetail 뿐만 아니라 GalleryModal에 서버에서 가져온 정보를 넣어줄려고했는데...
- return에 GalleryModal이 뜨니까 PostDetail 페이지에 modal이 떠있다...
- 그러면 App.js에서 match를 GalleryModalPage에 넣어주면 되겠네~ 했는데...
  ```js
  <Route
    path="/restaurant/:rKeyword"
    component={(PostDetailPage, GalleryModalPage)}
  />
  ```
- 같은 페이지에 있으니까 될 줄 알았다. 그런데 이렇게 하니까 PostDetail 페이지가 없어진다... 왜그런것일까...

### 느낀점

- 오늘은 되게 멍한날이다. 집중하기도 힘들었고 또 생각한 대로 만들어지지 않으니 갈피를 못잡고 이리저리 왔다갔다 하느라 시간보낸거같다.
- 일단 모르는게 무엇인지 알고있으니까 내일 학원에 가서 문제의 원인이 무엇인지를 물어봐야겠다...
