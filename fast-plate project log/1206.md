# fast-plate project log

- 주제 : 망고플레이트 서비스 만들어보기 (https://www.mangoplate.com/)
- 조원 : 신창선, 조민지, 안재현
- 개발 일정 : 2018/12/03 ~ 2018/12/21

## 2018 / 12 / 06

### 첫번째 목표 : PostDetailView 페이지에서 modal 완성하기

- 버튼을 제거하고 이미지에다가 onClick을 달았다.
- PostDetailView 페이지에서 나열되어있는 레스토랑 이미지를 클릭하면 그 클릭했던 이미지만 modal이 뜨게 만들고싶었다.
- 그러기 위해서는 먼저 각 이미지들의 고유값이 필요했는데 그것은 map 메소드를 사용했을 때 각 이미지에 부여했던 key 값으로 준 index를 사용하면 된다.
- onClick 함수에 index를 넣어준 뒤에 상위 컴포넌트에 새로운 상태를 하나 만들어준다. (currentModalComment: null)
- 이미지를 클릭하면 또 이미지가 나오게 해야하므로 true값으로 바꿔주는 인스턴스 showModal에 index를 넣고 currentModalComment의 상태변화를 null에서 comments(comments는 PostDetail에서 내려준 값)의 인덱스번째로 바꿔준다.
- 이제 Modal 컴포넌트안에는 해당되는 이미지와 comments만 써주면 된다.
- modal이 뜰때 스크롤바를 없애주고 modal을 닫으면 스크롤바를 생성하기 위해 document.body.style.overflow = 'hidden'과 document.body.style.overflow = 'scroll'를 사용하면 된다.

  ```js
  constructor(props) {
    super(props);
    this.state = {
      show: false,
      currentModalPic: null,
      currentModalComment: null,
    };
  }

  showModal(index) {
    const { detailpics, comments } = this.props;
    this.setState({
      show: true,
      currentModalPic: detailpics[index],
      currentModalComment: comments[index],
    });
    document.body.style.overflow = 'hidden';
  }

  hideModal() {
    this.setState({
      show: false,
    });
    document.body.style.overflow = 'scroll';
  }

  <div className="photo-list">
    {/* 레스토랑 디테일 정보 사진들 */}
   {detailpics.map((pic, index) => (
      <img
        key={index}
        src={pic}
        alt="detailRestaurantpics"
        onClick={() => this.showModal(index)}
      />
    ))}
    {/* 레스토랑 사진을 클릭하면 나오는 modal*/}
    <Modal show={this.state.show} handleClose={() => this.hideModal()}>
      <div className="picCommentContainer">
        <img
          src={this.state.currentModalPic}
          alt="restuarantDetailPicsWithComments"
        />
        <div className="commentBox">
          <p>{this.state.currentModalComment}</p>
        </div>
      </div>
    </Modal>
  </div>
  ```

### 느낀점

- 오전 오후에 또 특강이 있어서 오늘은 일찍 집에와 혼자서 만들어보았다.
- 리액트 컴포넌트에서 바로 css를 사용할 수 있는 방법이 있었구나...
- 아직까지 백엔드에서 자료들이 올라오지 않아 현재까지 할 수있는게 굉장히 한정적이다. 되도록이면 css를 원본 사이트와 최대한 비슷하게 만들어야겠다.
- 데레사 선생님이 absolute의 부모는 꼭 relative가 아닌 또다른 absolute가 될 수도있다라고 말씀하셨는데 메인 페이지의 검색창 부분의 css를 고치면서 경험해보았다.
- 헤더가 어느 일정 부분이상 내려오면 투명에서 하얀색 배경으로 바뀌는데 강사님께서 window.addEventListener('scroll', e => console.log(window.scrollY))을 이용해 구현 가능하다고 말씀해주셨다.
